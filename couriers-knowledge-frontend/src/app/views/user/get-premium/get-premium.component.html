<!-- src/app/views/user/get-premium/get-premium.component.html -->
<div class="floating-elements">
  <div class="floating-circle circle-1"></div>
  <div class="floating-circle circle-2"></div>
  <div class="floating-circle circle-3"></div>
</div>

<div class="container">
  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-container">
    <div class="spinner"></div>
    <p>{{ 'premium.loading' | translate }}</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error && !isLoading" class="error-container">
    <h3>▲ {{ error }}</h3>
    <button class="retry-btn" (click)="loadPlans()">{{ 'premium.retryButton' | translate }}</button>
  </div>

  <!-- Main Content -->
  <div *ngIf="!isLoading">
    <div class="header">
      <h1>{{ 'premium.title' | translate }}</h1>
      <p>{{ 'premium.subtitle' | translate }}</p>
    </div>



    <div class="plans-grid">
      <div
        *ngFor="let plan of plans"
        class="plan-card"
        [class.popular]="plan.popular"
        [class.coming-soon]="plan.comingSoon"
      >
        <h3 class="plan-name">{{ plan.name }}</h3>

        <!-- Preço Principal -->
        <div class="plan-price" *ngIf="plan.price !== null && !plan.comingSoon; else comingSoonPrice">
          {{ plan.monthly_equivalent }}
        </div>
        <ng-template #comingSoonPrice>
          <div class="plan-price">{{ 'premium.comingSoon' | translate }}</div>
        </ng-template>

        <div class="plan-period">{{ plan.period }}</div>

        <!-- Equivalente Mensal (se houver) -->
        <div *ngIf="plan.monthly_equivalent && !plan.comingSoon" class="monthly-equivalent">
          {{ plan.monthly_equivalent }}
        </div>

        <!-- Total do Período -->
        <div class="plan-total">
          <div class="plan-total-label">{{ plan.comingSoon ? ('premium.status' | translate) : ('premium.totalPeriod' | translate) }}</div>
          <div class="plan-total-price">{{ plan.total }}</div>
        </div>

        <!-- Features -->
        <ul class="plan-features">
          <li *ngFor="let feature of plan.features">
            <span [class]="feature.included ? 'check-icon' : 'x-icon'">
              {{ feature.included ? '✓' : '✗' }}
            </span>
            {{ feature.text }}
          </li>
        </ul>

        <!-- Action Button -->
        <button
          class="plan-button"
          [class]="plan.buttonClass"
          [class.loading]="isProcessing(plan.id)"
          [disabled]="plan.comingSoon || isProcessing(plan.id)"
          (click)="onSelectPlan(plan)"
        >
          <span *ngIf="!isProcessing(plan.id)">{{ plan.buttonText }}</span>
          <span *ngIf="isProcessing(plan.id)">Processando...</span>
        </button>

        <div class="popular-badge" *ngIf="plan.popular">
          {{ 'premium.bestValue' | translate }}
        </div>
        <div class="coming-soon-badge" *ngIf="plan.comingSoon">
          {{ 'premium.inDevelopment' | translate }}
        </div>
      </div>
    </div>

    <!-- Lista de Recursos Premium -->
    <div class="premium-features-section">
      <h2 class="features-section-title">{{ 'premium.features.title' | translate }}</h2>
      <p class="features-section-subtitle">{{ 'premium.features.subtitle' | translate }}</p>

      <div class="features-grid">
        <div class="feature-item">
          <div class="feature-icon">📊</div>
          <h4>{{ 'premium.features.unlimitedEvaluations' | translate }}</h4>
          <p>{{ 'premium.features.unlimitedDesc' | translate }}</p>
        </div>
        <div class="feature-item">
          <div class="feature-icon">🔄</div>
          <h4>{{ 'premium.features.moreUpdates' | translate }}</h4>
          <p>{{ 'premium.features.moreUpdatesDesc' | translate }}</p>
        </div>
        <div class="feature-item">
          <div class="feature-icon">📤</div>
          <h4>{{ 'premium.features.advancedExport' | translate }}</h4>
          <p>{{ 'premium.features.advancedExportDesc' | translate }}</p>
        </div>
        <div class="feature-item">
          <div class="feature-icon">🎯</div>
          <h4>{{ 'premium.features.advancedReports' | translate }}</h4>
          <p>{{ 'premium.features.advancedReportsDesc' | translate }}</p>
        </div>
        <div class="feature-item">
          <div class="feature-icon">🚀</div>
          <h4>{{ 'premium.features.betaFeatures' | translate }}</h4>
          <p>{{ 'premium.features.betaFeaturesDesc' | translate }}</p>
        </div>
        <div class="feature-item">
          <div class="feature-icon">🛡️</div>
          <h4>{{ 'premium.features.prioritySupport' | translate }}</h4>
          <p>{{ 'premium.features.prioritySupportDesc' | translate }}</p>
        </div>
      </div>
    </div>

    <!-- FAQ Section Expandido -->
    <div class="faq-section">
      <h2 class="faq-title">{{ 'premium.faq.title' | translate }}</h2>

      <div class="faq-grid">
        <div class="faq-item">
          <h4>{{ 'premium.faq.security.title' | translate }}</h4>
          <p>{{ 'premium.faq.security.content' | translate }}</p>
        </div>

        <div class="faq-item">
          <h4>{{ 'premium.faq.export.title' | translate }}</h4>
          <p>{{ 'premium.faq.export.content' | translate }}</p>
        </div>

        <div class="faq-item">
          <h4>{{ 'premium.faq.activation.title' | translate }}</h4>
          <p>{{ 'premium.faq.activation.content' | translate }}</p>
        </div>

        <div class="faq-item">
          <h4>{{ 'premium.faq.mmr8k.title' | translate }}</h4>
          <p>{{ 'premium.faq.mmr8k.content' | translate }} <a routerLink="/app/pro" class="pro-link">{{ 'premium.faq.mmr8k.link' | translate }}</a> {{ 'premium.faq.mmr8k.content2' | translate }}</p>
        </div>

        <div class="faq-item">
          <h4>{{ 'premium.faq.updates.title' | translate }}</h4>
          <p>{{ 'premium.faq.updates.content' | translate }}</p>
        </div>

        <div class="faq-item">
          <h4>{{ 'premium.faq.resources.title' | translate }}</h4>
          <p>{{ 'premium.faq.resources.content' | translate }}</p>
        </div>
      </div>
    </div>

       <!-- Seção Prós e Contras -->
    <div class="pros-cons-section">
      <h2 class="pros-cons-title">{{ 'premium.proscons.title' | translate }}</h2>
      <div class="comparison-grid">
        <div class="plan-benefits">
          <h3 class="benefits-title">{{ 'premium.proscons.pros' | translate }}</h3>
          <ul class="benefits-list">
            <li>{{ 'premium.proscons.unlimited' | translate }}</li>
            <li>{{ 'premium.proscons.updates' | translate }}</li>
            <li>{{ 'premium.proscons.exports' | translate }}</li>
            <li>{{ 'premium.proscons.imports' | translate }}</li>
            <li>{{ 'premium.proscons.support' | translate }}</li>
            <li>{{ 'premium.proscons.beta' | translate }}</li>
            <li>{{ 'premium.proscons.reports' | translate }}</li>
            <li>{{ 'premium.proscons.noads' | translate }}</li>
            <li>{{ 'premium.proscons.dataexport' | translate }}</li>
            <li>{{ 'premium.proscons.analysis' | translate }}</li>
          </ul>
        </div>
        <div class="plan-limits">
          <h3 class="limits-title">{{ 'premium.proscons.considerations' | translate }}</h3>
          <ul class="limits-list">
            <li>{{ 'premium.proscons.investment' | translate }}</li>
            <li>{{ 'premium.proscons.development' | translate }}</li>
            <li>{{ 'premium.proscons.verification' | translate }}</li>
            <li>{{ 'premium.proscons.refund' | translate }}</li>
            <li>{{ 'premium.proscons.prices' | translate }}</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Final CTA -->
    <div class="final-cta">
      <h2>{{ 'premium.finalCta.title' | translate }}</h2>
      <p>{{ 'premium.finalCta.subtitle' | translate }}</p>
    </div>
  </div>
</div>

<!-- Modal Pro -->
<div class="pro-modal" *ngIf="showProModal" (click)="closeProModal()">
  <div class="pro-modal-content" (click)="$event.stopPropagation()">
    <button class="pro-modal-close" (click)="closeProModal()">&times;</button>

    <h3>{{ 'premium.pro.title' | translate }}</h3>
    <p>{{ 'premium.pro.description' | translate }}</p>

    <div class="pro-steps">
      <h4>{{ 'premium.pro.howto' | translate }}</h4>
      <ul>
        <li>{{ 'premium.pro.step1' | translate }}</li>
        <li>{{ 'premium.pro.step2' | translate }}</li>
        <li>{{ 'premium.pro.step3' | translate }}</li>
      </ul>
    </div>

    <div class="pro-warning">
      <p><strong>{{ 'premium.pro.important' | translate }}</strong> {{ 'premium.pro.costs' | translate }}</p>
      <p><em>{{ 'premium.pro.beta' | translate }}</em></p>
    </div>

    <div class="pro-modal-actions">
      <button class="plan-button primary" (click)="handleProContact()">{{ 'premium.pro.contact' | translate }}</button>
    </div>
  </div>
</div>
